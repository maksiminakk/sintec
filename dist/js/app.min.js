(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){!function(){let e=new Image;e.onload=e.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const e=document.querySelector(".header"),t=document.querySelector(".menu"),o=document.querySelector(".header__burger-icon");document.querySelector(".menu__close"),t&&o&&o.addEventListener("click",(()=>{S(t),S(e),S(o)}));const n=document.querySelectorAll("[data-goto]");if(n.length>0){function E(n){const i=n.target;if(i.dataset.goto&&document.querySelector(i.dataset.goto)){const s=document.querySelector(i.dataset.goto).getBoundingClientRect().top+pageYOffset;window.scrollTo({top:s,behavior:"smooth"}),n.preventDefault(),t.classList.contains("_active")&&(A(t),A(e),A(o))}}n.forEach((e=>{e.addEventListener("click",E)}))}const i=document.querySelectorAll(".popup-link"),s=document.querySelector("body"),l=document.querySelectorAll(".lock-padding");let r=!0;if(i.length>0)for(let q=0;q<i.length;q++){const b=i[q];b.addEventListener("click",(function(e){const t=b.getAttribute("href").replace("#","");a(document.getElementById(t)),e.preventDefault()}))}const c=document.querySelectorAll(".close-popup");if(c.length>0)for(let x=0;x<c.length;x++){const P=c[x];P.addEventListener("click",(function(e){d(P.closest(".popup")),e.preventDefault()}))}function a(e){if(e&&r){const t=document.querySelector(".popup.open");console.log("test"),t?d(t,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(l.length>0)for(let t=0;t<l.length;t++)l[t].style.paddingRight=e;s.style.paddingRight=e,s.classList.add("_lock"),r=!1,setTimeout((function(){r=!0}),500)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||d(e.target.closest(".popup"))}))}}function d(e,t=!0){r&&(e.classList.remove("open"),t&&(setTimeout((function(){if(l.length>0)for(let e=0;e<l.length;e++)l[e].style.paddingRight="0px";s.style.paddingRight="0px",s.classList.remove("_lock")}),500),r=!1,setTimeout((function(){r=!0}),500)))}document.addEventListener("keydown",(function(e){27===e.which&&d(document.querySelector(".popup.open"))}));const p=document.querySelectorAll("._anim-items");if(p.length>0){function k(){for(let e=0;e<p.length;e++){const t=p[e],o=t.offsetHeight,n=I(t).top,i=4;let s=window.innerHeight-o/i;o>window.innerHeight&&(s=window.innerHeight-window.innerHeight/i),pageYOffset>n-s&&pageYOffset<n+o?t.classList.add("_visible"):t.classList.contains("_anim-no-hide")||t.classList.remove("_visible")}}function I(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}window.addEventListener("scroll",k),setTimeout((()=>{k()}),200)}const u=document.querySelectorAll("[data-spollers]");if(u.length>0){const T=Array.from(u).filter((function(e,t,o){return!e.dataset.spollers.split(",")[0]}));T.length>0&&H(T);const B=Array.from(u).filter((function(e,t,o){return e.dataset.spollers.split(",")[0]}));if(B.length>0){const Y=[];B.forEach((e=>{const t={},o=e.dataset.spollers.split(",");t.value=o[0],t.type=o[1]?o[1].trim():"max",t.item=e,Y.push(t)}));let D=Y.map((function(e){return"("+e.type+"-width:"+e.value+"px),"+e.value+","+e.type}));D=D.filter((function(e,t,o){return o.indexOf(e)===t})),D.forEach((e=>{const t=e.split(","),o=t[1],n=t[2],i=window.matchMedia(t[0]),s=Y.filter((function(e){if(e.value===o&&e.type===n)return!0}));i.addListener((function(){H(s,i)})),H(s,i)}))}function H(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),C(e),e.addEventListener("click",R)):(e.classList.remove("_init"),C(e,!1),e.removeEventListener("click",R))}))}function C(e,t=!0){const o=e.querySelectorAll("[data-spoller]");o.length>0&&o.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function R(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const o=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),n=o.closest("[data-spollers]"),i=!!n.hasAttribute("data-one-spoller");n.querySelectorAll("._slide").length||(i&&!o.classList.contains("_active")&&O(n),o.parentElement.classList.toggle("_active"),o.classList.toggle("_active"),g(o.nextElementSibling,500)),e.preventDefault()}}function O(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),t.parentElement.classList.remove("_active"),m(t.nextElementSibling,500))}}let m=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("mragin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},g=(e,t=500)=>e.hidden?((e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}})(e,t):m(e,t);document.querySelectorAll(".technologies-item").forEach((e=>{const t=e.querySelector(".technologies-item__text"),o=e.querySelector(".technologies-item-product"),n=e.querySelector(".technologies-item__image"),i=e.querySelector(".technologies-item__button"),s=e.querySelector(".technologies-item__left"),l=e.querySelector(".technologies-item__right"),r=e.querySelector(".technologies-item__top");window.innerWidth<1024&&(l.append(n),l.append(o),s.append(i),r.append(t))}));const h=document.querySelectorAll(".tests-menu__item"),y=document.querySelectorAll(".tests-menu__progress-bar .progress"),f=document.querySelector(".tests-menu"),v=new Swiper(".slider__item",{direction:"vertical",loop:!0,slidesPerView:1,autoHeight:!0,spaceBetween:50,autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{767:{direction:"vertical"},0:{direction:"horizontal",spaceBetween:20}},on:{slideChange:function(){w(this)},loopFix:function(){w(this,this.realIndex)}}});function w(e,t=null){let o=null!==t?t:e.realIndex;const n=window.innerWidth<=1024;e.activeIndex>=e.slides.length-e.loopedSlides?o=0:e.activeIndex<e.loopedSlides&&(o=h.length-1),y.forEach((e=>{e.style.transition="none",n?(e.style.width="0%",e.style.height=""):(e.style.height="0%",e.style.width="")})),y.forEach(((e,t)=>{t<o?(e.style.transition="none",n?(e.style.width="100%",e.style.height=""):(e.style.height="100%",e.style.width=""),h[t].classList.add("completed")):t===o?(setTimeout((()=>{e.style.transition=n?"width 5s linear":"height 5s linear",n?(e.style.width="100%",e.style.height=""):(e.style.height="100%",e.style.width="")}),50),h[t].classList.add("completed")):h[t].classList.remove("completed")})),h.forEach(((e,t)=>{e.classList.toggle("active",t===o),t===o&&n&&(f.scrollLeft=e.offsetLeft)}))}h.forEach((e=>{e.addEventListener("click",(function(){const e=parseInt(this.dataset.index);v.slideToLoop(e),w(v,e)}))})),v.on("loopFix",(function(){w(v,v.realIndex)})),h[0].classList.add("completed"),w(v);const L=document.querySelectorAll("section")[2];let _=window.scrollY;function S(e){e.classList.toggle("_active"),e.parentElement.classList.toggle("_active")}function A(e){e.classList.remove("_active"),e.parentElement.classList.remove("_active")}window.addEventListener("scroll",(()=>{const t=window.scrollY;t>=L.getBoundingClientRect().top+window.scrollY?t>_?e.classList.add("_hidden"):(e.classList.remove("_hidden"),e.classList.add("fixed")):(e.classList.remove("_hidden"),e.classList.remove("fixed")),_=t}))}))})();